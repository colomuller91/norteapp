(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22a0ec"],{dfa5:function(t,e,a){"use strict";a.r(e);var s,i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"pa-sm-0 py-md-0 px-md-2",attrs:{fluid:"",onresize:"onresize"}},[a("v-row",{staticClass:"text-center",attrs:{"no-gutters":""}},[t.products_array.length>0?["xs"==t.$vuetify.breakpoint.name?a("v-col",{staticClass:"fill-height",attrs:{cols:"12",align:"stretch"}},[a("v-tabs",{attrs:{centered:"","fixed-tabs":""},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab",[t._v("PRODUCTOS")]),a("v-tab",[t._v("ESTE PEDIDO: $"+t._s(t.$store.getters.totalAmount))])],1),a("v-tabs-items",{model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab-item",[a("v-row",{staticClass:"d-flex flex-wrap "},t._l(t.products_array,(function(e){return a("ProductItem",{attrs:{item:e},on:{clicked:function(e){return t.$store.dispatch("addItem",{entidad:"venta",item:e.itemdata})}}})})),1)],1),a("v-tab-item",[a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"flex-grow-1"},t._l(t.$store.getters.ventaAgrupada,(function(e,s){return a("v-card",{staticClass:"ma-3",attrs:{raised:""},on:{click:function(e){return t.$store.dispatch("removeItem",{entidad:"venta",itemId:s})}}},[a("v-card-text",[a("p",{staticClass:"title text--primary mb-0 d-flex"},[a("span",{staticClass:"pr-2 text-no-wrap"},[t._v(t._s(e.qty)+" x")]),a("span",{staticClass:"flex-grow-1 overflow-hidden subtitle-1 mt-1 align-self-center text-left",staticStyle:{"text-overflow":"ellipsis"}},[t._v(t._s(e.value.name))]),a("span",{staticClass:"text-no-wrap"},[t._v("$ "+t._s(e.value.amount*e.qty))])])])],1)})),1),t.$store.getters.totalAmount>0?a("div",[a("br"),a("div",{staticClass:"d-flex"},[a("v-btn",{staticClass:"flex-grow-1 ma-1 pa-0",staticStyle:{height:"50px"},attrs:{tile:"",text:"",outlined:"",color:"green"},on:{click:t.makeSale}},[t._v(" VENDER ")]),a("v-btn",{staticClass:"flex-grow-1 ma-1 pa-0",staticStyle:{height:"50px"},attrs:{tile:"",text:"",outlined:"",color:"red"},on:{click:t.clearSale}},[t._v(" LIMPIAR ")])],1),a("br")]):t._e()])])],1)],1):a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"py-4",style:"overflow-y: auto; max-height:"+t.customHeight,attrs:{cols:"7",md:"8",lg:"8"}},[a("p",[t._v("PRODUCTOS")]),a("div",{staticClass:"d-flex flex-wrap justify-start overflow-y-auto"},t._l(t.products_array,(function(e){return a("ProductItem",{attrs:{item:e},on:{clicked:function(e){return t.$store.dispatch("addItem",{entidad:"venta",item:e.itemdata})}}})})),1)]),a("v-col",{staticClass:"py-4",style:"border-left: 2px solid #c3c3c3; overflow-y: auto; max-height:"+t.customHeight,attrs:{cols:"5",md:"4",lg:"4"}},[a("p",[t._v("ESTA VENTA: $"+t._s(t.$store.getters.totalAmount))]),a("div",{staticClass:"overflow-y-auto"},[t.$store.getters.totalAmount>0?a("div",{staticClass:"d-flex"},[a("br"),a("v-btn",{staticClass:"flex-grow-1 ma-1 pa-0",staticStyle:{height:"50px"},attrs:{tile:"",text:"",outlined:"",color:"green"},on:{click:t.makeSale}},[t._v(" VENDER ")]),a("v-btn",{staticClass:"flex-grow-1 ma-1 pa-0",staticStyle:{height:"50px"},attrs:{tile:"",text:"",outlined:"",color:"red"},on:{click:t.clearSale}},[t._v(" LIMPIAR ")]),a("br")],1):t._e(),t._l(t.$store.getters.ventaAgrupada,(function(e,s){return a("v-card",{staticClass:"ma-3",attrs:{raised:""},on:{click:function(e){return t.$store.dispatch("removeItem",{entidad:"venta",itemId:s})}}},[a("v-card-text",[a("p",{staticClass:"title text--primary mb-0 d-flex"},[a("span",{staticClass:"pr-2 text-no-wrap"},[t._v(t._s(e.qty)+" x")]),a("span",{staticClass:"flex-grow-1 overflow-hidden subtitle-1 mt-1 align-self-center text-left",staticStyle:{"text-overflow":"ellipsis"}},[t._v(t._s(e.value.name))]),a("span",{staticClass:"text-no-wrap"},[t._v("$ "+t._s(e.value.amount*e.qty))])])])],1)}))],2)])],1)],1)]:t._e()],2),a("v-snackbar",{staticClass:"text-center",attrs:{timeout:5e3,color:"primary"},on:{close:function(t){this.textOperation=""}},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("p",{staticClass:"text-center flex-grow-1 mb-0 title"},[t._v(" "+t._s(t.textOperation)+" ")])])],1)},r=[],o=a("ade3"),l=a("9588"),c=a("a635"),d=a("98b3"),u={name:"ProductList",components:{ProductDetails:c["a"],ProductItem:l["a"]},data:function(){var t;return t={products_array:[],productDetailsModal:!1,snackbar:!1,snackbarText:"",tabs:null,windowSize:null},Object(o["a"])(t,"snackbar",!1),Object(o["a"])(t,"textOperation",""),t},mounted:function(){var t=this;this.onResize(),s=new d["a"]("productos"),s._loaded.then((function(){s.getAllItems("name").then((function(e){t.products_array=e}))})),i=new d["a"]("ventas")},methods:{openModal:function(t){this.$refs.productModal.open(t)},operationDone:function(t){var e=this;this.snackbarText=t,this.snackbar=!0,s._loaded.then((function(){s.getAllItems().then((function(t){e.products_array=t}))}))},onResize:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight}},makeSale:function(){var t=this;i.addItem({date:new Date,items:this.$store.state.ventaInmediata}).then((function(){t.textOperation="VENTA REALIZADA POR $".concat(t.$store.getters.totalAmount),t.snackbar=!0,t.clearSale()}))},clearSale:function(){this.tabs=0,this.$store.dispatch("clearVenta")}},computed:{customHeight:function(){return this.windowSize?this.windowSize.y-this.$vuetify.application.top+"px":window.innerHeight-this.$vuetify.application.top+"px"}}},p=u,v=a("2877"),m=Object(v["a"])(p,n,r,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d22a0ec.f18d9edf.js.map